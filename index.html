<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ì‹œì•ˆ ìƒì„± ë„êµ¬ â€” v1.3 (Worker Integrated)</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .thumb{width:100%;height:120px;object-fit:cover}
    .btn{border-radius:1rem;padding:.75rem 1rem;box-shadow:0 1px 2px rgb(0 0 0 / .06)}
  </style>
  <script defer>
    // âš ï¸ ì´ ë¶€ë¶„ì„ ë°˜ë“œì‹œ ìì‹ ì˜ Cloudflare Worker URLë¡œ ë³€ê²½í•˜ì„¸ìš”.
    const WORKER_URL = 'https://YOUR-WORKER-NAME.YOUR-DOMAIN.workers.dev'; 
    
    function $(id){ return document.getElementById(id); }
    function normDrive(link){
      if(!link) return '';
      try{
        var m = link.match(/\/file\/d\/([A-Za-z0-9_-]{25,})/); if(m) return 'https://drive.google.com/uc?id='+m[1];
        m = link.match(/[?&]id=([A-Za-z0-9_-]{25,})/);Â  Â  Â  Â  if(m) return 'https://drive.google.com/uc?id='+m[1];
        if(/drive\.google\.com\/uc\?id=/.test(link)) return link;
        return link;
      }catch(e){ return link; }
    }
    
    // ğŸŒ Workerì—ì„œ ê¸°ë³¸í˜• ë¦¬ìŠ¤íŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜
    async function loadBases(){ 
      try{ 
        const response = await fetch(WORKER_URL + '/bases');
        if(response.ok) {
          const data = await response.json();
          if(Object.prototype.toString.call(data) === '[object Array]') {
            return data;
          }
        }
      }catch(e){ 
        console.error('Workerì—ì„œ ê¸°ë³¸í˜• ë¡œë“œ ì‹¤íŒ¨:', e);
      }
      return []; // ì‹¤íŒ¨ ì‹œ ë¹ˆ ë°°ì—´ ë°˜í™˜
    }
    
    // ğŸŒ Workerë¡œ ê¸°ë³¸í˜• ë¦¬ìŠ¤íŠ¸ë¥¼ ì €ì¥í•˜ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜
    async function saveBases(list){ 
      try{
        const response = await fetch(WORKER_URL + '/save-bases', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ data: list })
        });
        return response.ok;
      }catch(e){
        console.error('Workerì— ê¸°ë³¸í˜• ì €ì¥ ì‹¤íŒ¨:', e);
        return false;
      }
    }
    
    function showTab(which){
      var onBase = which==='base';
      $('baseSection').classList.toggle('hidden', !onBase);
      $('genSection').classList.toggle('hidden', onBase);
      $('tabBase').classList.toggle('bg-indigo-600', onBase);
      $('tabBase').classList.toggle('text-white', onBase);
      $('tabBase').classList.toggle('bg-white', !onBase);
      $('tabGen').classList.toggle('bg-indigo-600', !onBase);
      $('tabGen').classList.toggle('text-white', !onBase);
      $('tabGen').classList.toggle('bg-white', onBase);
    }
    
    let currentBases = []; // í˜„ì¬ ë¡œë“œëœ ê¸°ë³¸í˜• ë°ì´í„°ë¥¼ ì €ì¥í•  ì „ì—­ ë³€ìˆ˜
    
    // ê¸°ë³¸í˜• ë¦¬ìŠ¤íŠ¸ë¥¼ ë Œë”ë§í•˜ê³  ë“œë¡­ë‹¤ìš´ ë©”ë‰´ë¥¼ ì—…ë°ì´íŠ¸í•˜ëŠ” í•¨ìˆ˜
    async function renderBaseList(shouldReload = false){
      if(shouldReload) {
        currentBases = await loadBases();
      }
      var list = currentBases;
      var ul = $('baseList'); if(!ul) return;
      ul.innerHTML = '';
      for(var i=0;i<list.length;i++){
        var b = list[i];
        var li = document.createElement('li');
        li.className = 'py-3 flex items-start justify-between gap-3';
        li.innerHTML =
          '<div>'+
          '  <div class="font-medium">'+(b.name||'')+'</div>'+
          '  <div class="text-xs text-gray-600">'+(b.product||'')+'</div>'+
          '  <div class="text-xs text-gray-500">'+((b.features||'').slice(0,80))+'</div>'+
          '  <div class="flex gap-2 mt-2 text-[10px] text-gray-500]">'+
          ['img_base','ref1','ref2','ref3'].map(function(k){ return b[k]?('<a href="'+b[k]+'" target="_blank" class="underline">'+k+'</a>'):''; }).join('')+
          '  </div>'+
          '</div>'+
          '<div class="flex gap-2">'+
          '  <button data-edit="'+i+'" class="text-xs px-2 py-1 rounded-lg border">í¸ì§‘</button>'+
          '  <button data-del="'+i+'" class="text-xs px-2 py-1 rounded-lg border text-red-600">ì‚­ì œ</button>'+
          '</div>';
        ul.appendChild(li);
      }
      var sel = $('baseSelect');
      if(sel){
        sel.innerHTML = '<option value="">(ì„ íƒ)</option>' + list.map(function(b,i){ return '<option value="'+i+'">'+b.name+'</option>'; }).join('');
      }
    }
    
    document.addEventListener('DOMContentLoaded', async function(){
      // ì´ˆê¸° ë°ì´í„° ë¡œë“œ ë° ë Œë”ë§
      currentBases = await loadBases();
      renderBaseList();
      showTab('base');
      
      $('tabBase').addEventListener('click', function(){ showTab('base'); });
      $('tabGen').addEventListener('click',Â  function(){ showTab('gen');Â  });
      
      // ì €ì¥ ë²„íŠ¼ ì´ë²¤íŠ¸ (Worker í˜¸ì¶œë¡œ ë³€ê²½)
      $('btnBaseSave').addEventListener('click', async function(){
        var b = {
          name: $('b_name').value.trim(),
          product: $('b_product').value.trim(),
          features: $('b_features').value.trim(),
          img_base: normDrive($('b_img_base').value.trim()),
          ref1: normDrive($('b_ref1').value.trim()),
          ref2: normDrive($('b_ref2').value.trim()),
          ref3: normDrive($('b_ref3').value.trim()),
          createdAt: Date.now()
        };
        if(!b.name){ alert('ê¸°ë³¸í˜• ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”'); return; }
        
        var list = currentBases;
        var i = -1; // ê¸°ì¡´ ëª©ë¡ì—ì„œ ì´ë¦„ì´ ê°™ì€ ê¸°ë³¸í˜• ì°¾ê¸° (ì—…ë°ì´íŠ¸)
        for(var j=0;j<list.length;j++){ if(list[j].name===b.name){ i=j; break; } }
        
        if(i>=0) list[i] = b; else list.push(b); // ì—…ë°ì´íŠ¸ ë˜ëŠ” ì¶”ê°€
        
        // ğŸŒ Workerì— ì €ì¥ ìš”ì²­
        const isSaved = await saveBases(list); 

        if(isSaved){
          currentBases = list; // ì„±ê³µ ì‹œ ì „ì—­ ë³€ìˆ˜ ì—…ë°ì´íŠ¸
          renderBaseList(false); // ë¡œë“œ ì—†ì´ í™”ë©´ë§Œ ì—…ë°ì´íŠ¸
          
          var toast = document.createElement('div');
          toast.className = 'fixed z-50 top-5 right-5 bg-emerald-600 text-white px-4 py-3 rounded-xl shadow space-x-2 flex items-center';
          toast.innerHTML = '<span>âœ… ê¸°ë³¸í˜•ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤</span> <button id="goGen" class="ml-3 px-2 py-1 bg-white text-emerald-700 rounded-lg text-xs">ì‹œì•ˆ ìƒì„±ìœ¼ë¡œ ì´ë™</button>';
          document.body.appendChild(toast);
          var removeToast = function(){ if(toast.parentNode){ toast.parentNode.removeChild(toast); } };
          setTimeout(removeToast, 2500);
          document.getElementById('goGen').addEventListener('click', function(){ showTab('gen'); removeToast(); });
        } else {
          alert('ê¸°ë³¸í˜• ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. Worker URLê³¼ ì„¤ì •ì„ í™•ì¸í•˜ì„¸ìš”.');
        }
      });
      
      $('btnBaseClear').addEventListener('click', function(){
        ['b_name','b_product','b_features','b_img_base','b_ref1','b_ref2','b_ref3'].forEach(function(id){ var el=$(id); if(el) el.value=''; });
      });
      
      // ëª©ë¡ í¸ì§‘/ì‚­ì œ ì´ë²¤íŠ¸ (Worker í˜¸ì¶œë¡œ ë³€ê²½)
      $('baseList').addEventListener('click', async function(e){
        var t = e.target; var list = currentBases;
        
        // ì‚­ì œ
        if(t && t.dataset && t.dataset.del){ 
          list.splice(Number(t.dataset.del),1); 
          const isSaved = await saveBases(list);
          if(isSaved) {
            currentBases = list;
            renderBaseList(false);
          } else {
            alert('ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
          }
          return; 
        }
        
        // í¸ì§‘
        if(t && t.dataset && t.dataset.edit){ 
          var b = list[Number(t.dataset.edit)]; if(!b) return;
          $('b_name').value = b.name || ''; $('b_product').value = b.product || ''; $('b_features').value = b.features || '';
          $('b_img_base').value = b.img_base || ''; $('b_ref1').value = b.ref1 || ''; $('b_ref2').value = b.ref2 || ''; $('b_ref3').value = b.ref3 || '';
          window.scrollTo({top:0, behavior:'smooth'});
        }
      });
      
      // ê°€ì ¸ì˜¤ê¸° (JSON) ê¸°ëŠ¥ì€ Worker ì—°ë™ ë°©ì‹ê³¼ ì¶©ëŒí•˜ë¯€ë¡œ ì œê±°í•˜ê±°ë‚˜, Workerì— ì €ì¥í•˜ë„ë¡ ë³€ê²½í•´ì•¼ í•©ë‹ˆë‹¤.
      // ì—¬ê¸°ì„œëŠ” ë¡œì»¬ì—ì„œ ì½ì–´ì™€ Workerì— ì €ì¥í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ìˆ˜ì •í•©ë‹ˆë‹¤.
      $('importFile').addEventListener('change', function(e){
        var f = e.target.files && e.target.files[0]; if(!f) return; var fr = new FileReader();
        fr.onload = async function(){ 
          try{ 
            var data = JSON.parse(fr.result); 
            if(Object.prototype.toString.call(data)==='[object Array]'){ 
              const isSaved = await saveBases(data);
              if(isSaved){
                currentBases = data; 
                renderBaseList(false); 
                alert('ê°€ì ¸ì˜¤ê¸° ë° ì €ì¥ ì™„ë£Œ.');
              } else {
                alert('Worker ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
              }
            } 
          }catch(err){ 
            alert('JSONì„ ì½ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤'); 
          } 
        };
        fr.readAsText(f);
      });
      
      // ë¡œê³  íŒŒì¼ ì—…ë¡œë“œ (Worker í˜¸ì¶œë¡œ ë³€ê²½)
      $('logoFile').addEventListener('change', async function(e){
        var f = e.target.files && e.target.files[0]; if(!f) return;
        
        // 1. ë¯¸ë¦¬ë³´ê¸°
        var url = URL.createObjectURL(f); $('logoPreview').src = url;
        
        // 2. Workerì— íŒŒì¼ ì—…ë¡œë“œ
        const formData = new FormData();
        formData.append('file', f);

        const res = await fetch(WORKER_URL + '/upload?dir=logos', {
          method: 'POST',
          body: formData
        });

        if (res.ok) {
          const result = await res.json();
          // 3. ë°˜í™˜ëœ raw URLì„ logoUrl ì…ë ¥ í•„ë“œì— ì„¤ì •
          $('logoUrl').value = result.url;
          alert('ë¡œê³  íŒŒì¼ ì—…ë¡œë“œ ì™„ë£Œ. URLì´ ì…ë ¥ í•„ë“œì— ìë™ ì…ë ¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
        } else {
          alert('ë¡œê³  íŒŒì¼ ì—…ë¡œë“œ ì‹¤íŒ¨');
        }
      });
      
      // --------------------------------------------------------------------------------
      // ê¸°ì¡´ ë¡œì§ ìœ ì§€ (ë°ì´í„°ë§Œ currentBasesì—ì„œ ê°€ì ¸ì˜´)
      $('baseSelect').addEventListener('change', function(){
        var idx = Number($('baseSelect').value); var list = currentBases; var b = list[idx];
        var pv = $('preview'); if(pv) pv.innerHTML='';
        if(!b) return;
        $('product').value = b.product || '';
        var imgs = [ {k:'img_base',label:'ê¸°ë³¸í˜•'}, {k:'ref1',label:'ë ˆí¼1'}, {k:'ref2',label:'ë ˆí¼2'}, {k:'ref3',label:'ë ˆí¼3'} ];
        var html = '';
        for(var i=0;i<imgs.length;i++){ var it=imgs[i]; var url = b[it.k]? normDrive(b[it.k]) : '';
          if(url){ html += "<div class='border rounded-xl overflow-hidden'><div class='p-1 text-[10px] text-gray-600'>"+it.label+"</div><img class='thumb' src='"+url+"' /></div>"; } }
        if(pv) pv.innerHTML = html;
      });
      
      $('btnPresetInject').addEventListener('click', function(){
        var idx = Number($('baseSelect').value); var list = currentBases; var b = list[idx];
        if(!b){ alert('ê¸°ë³¸í˜•ì„ ì„ íƒí•˜ì„¸ìš”'); return; }
        $('product').value = b.product || '';
      });
      
      $('logoUrl').addEventListener('blur', function(){
        var v = ($('logoUrl').value||'').trim(); var n = normDrive(v); if(n!==v) $('logoUrl').value = n; $('logoPreview').src = n || '';
      });
      
      // í”„ë¡¬í”„íŠ¸ ìƒì„± ë¡œì§ì€ ë³€ê²½ ì—†ìŒ
      $('btnGenerate').addEventListener('click', function(){
        var lang = $('language').value; var platform = $('platform').value;
        var idx = Number($('baseSelect').value); var list = currentBases; var b = list[idx] || {};
        var product = ($('product').value||'').trim(); var logo = ($('logo').value||'').trim(); var copy = ($('copy').value||'').trim();
        var logoUrl = normDrive(($('logoUrl') && $('logoUrl').value || '').trim());
        var refs = [b.img_base,b.ref1,b.ref2,b.ref3].filter(function(u){ return !!u; }).map(normDrive);
        if(logoUrl) refs.push(logoUrl);
        var urlsBlock = refs.join('\n');
        function body_ko(){
          var parts=[]; parts.push((product?product+' ':'')+'ì œí’ˆ ì‹œì•ˆ ì´ë¯¸ì§€ë¥¼ ìƒì„±í•œë‹¤.');
          if(b.features) parts.push('ì œí’ˆ íŠ¹ì§•ì€ '+b.features+' ì´ë‹¤.');
          parts.push('ìœ„ì˜ ì°¸ì¡° ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ í˜•íƒœ, ì¬ì§ˆ/í‘œë©´ ì§ˆê°, ì¡°ëª…/ë°°ê²½ ë¬´ë“œë¥¼ ì¼ì¹˜ì‹œì¼œë¼.');
          if(logo) parts.push('ë¡œê³  í…ìŠ¤íŠ¸: '+logo+' ë¥¼ ì„ ëª…í•˜ê³  ì™œê³¡ ì—†ì´ ì ìš©í•œë‹¤.');
          if(copy) parts.push('ë¬¸êµ¬ í…ìŠ¤íŠ¸: '+copy+' ë¥¼ ì¸ì‡„/ê°ì¸ ì˜ì—­ì— ë°°ì¹˜í•œë‹¤.');
          parts.push('ê³¼ì¥ëœ ìŠ¤íƒ€ì¼ì€ í”¼í•˜ê³  ì‹¤ì œ ì´¬ì˜ ê°™ì€ ê³ í’ˆì§ˆ ìŠ¤íŠœë””ì˜¤ ë¬˜ì‚¬ë¡œ ë§Œë“ ë‹¤.');
          parts.push('ë°°ê²½ì€ ê¹”ë”í•˜ê²Œ ìœ ì§€í•˜ê³  ì œí’ˆì´ ì¤‘ì‹¬ì´ ë˜ê²Œ í•œë‹¤.');
          parts.push('ìµœì¢… ê²°ê³¼ëŠ” ë‹¨ì¼ ì •ì§€ ì´ë¯¸ì§€ í•œ ì¥ì„ ìƒì„±í•œë‹¤.');
          return parts.join(' ');
        }
        function body_en(){
          var parts=[]; parts.push('Generate a realistic product mockup image for '+(product||'the product')+'.');
          if(b.features) parts.push('Respect these features: '+b.features+'.');
          parts.push('Use the reference images above to match shape, material/texture, and lighting/background mood.');
          if(logo) parts.push('Apply the logo text "'+logo+'" clearly without distortion.');
          if(copy) parts.push('Place the text "'+copy+'" on the designated print/engraving area.');
          parts.push('Avoid surreal effects; render as a studio-quality photographic look.');
          parts.push('Keep the background clean and let the product be the focus.');
          parts.push('Output a single still image.');
          return parts.join(' ');
        }
        function body_vi(){
          var parts=[]; parts.push('Táº¡o má»™t mockup sáº£n pháº©m chÃ¢n thá»±c cho '+(product||'sáº£n pháº©m')+'.');
          if(b.features) parts.push('Giá»¯ Ä‘Ãºng cÃ¡c Ä‘áº·c Ä‘iá»ƒm: '+b.features+'.');
          parts.push('DÃ¹ng cÃ¡c áº£nh tham chiáº¿u á»Ÿ trÃªn Ä‘á»ƒ khá»›p hÃ¬nh dÃ¡ng, cháº¥t liá»‡u/bá» máº·t vÃ  Ã¡nh sÃ¡ng/phÃ´ng ná»n.');
          if(logo) parts.push('Ãp dá»¥ng logo "'+logo+'" rÃµ rÃ ng, khÃ´ng mÃ©o.');
          if(copy) parts.push('Äáº·t chá»¯ "'+copy+'" vÃ o vÃ¹ng in/kháº¯c quy Ä‘á»‹nh.');
          parts.push('TrÃ¡nh hiá»‡u á»©ng siÃªu thá»±c; thá»ƒ hiá»‡n nhÆ° áº£nh chá»¥p studio cháº¥t lÆ°á»£ng cao.');
          parts.push('Giá»¯ ná»n sáº¡ch, táº­p trung vÃ o sáº£n pháº©m.');
          parts.push('Xuáº¥t má»™t áº£nh duy nháº¥t.');
          return parts.join(' ');
        }
        var body = (lang==='en'?body_en:lang==='vi'?body_vi:body_ko)();
        var finalPrompt = (urlsBlock ? (urlsBlock+'\n') : '') + body;
        $('output').value = finalPrompt;
      });
      
      $('btnCopy').addEventListener('click', function(){
        var text = $('output').value || '';
        navigator.clipboard.writeText(text).then(function(){
          var old = $('btnCopy').textContent; $('btnCopy').textContent = 'ë³µì‚¬ ì™„ë£Œ!'; setTimeout(function(){ $('btnCopy').textContent = old; }, 1200);
        });
      });
      // --------------------------------------------------------------------------------
    });
  </script>
</head>
<body class="bg-gray-50 text-gray-900">
  <main class="max-w-5xl mx-auto p-6">
    <header class="mb-6">
      <h1 class="text-3xl font-bold">ì‹œì•ˆ ìƒì„± ë„êµ¬</h1>
      <p class="text-sm text-gray-600 mt-2">ê¸°ë³¸í˜• ê´€ë¦¬ (GitHub ì˜êµ¬ ì €ì¥) â†’ ì‹œì•ˆ ìƒì„± í”„ë¡¬í”„íŠ¸ (Gemini / Google AI Studio Nano)</p>
    </header>
    <div class="flex gap-2 mb-4">
      <button id="tabBase" class="btn bg-indigo-600 text-white border font-medium">ê¸°ë³¸í˜• ê´€ë¦¬</button>
      <button id="tabGen"Â  class="btn bg-white border font-medium">ì‹œì•ˆ ìƒì„± í”„ë¡¬í”„íŠ¸</button>
    </div>
    <section id="baseSection">
      <div class="grid md:grid-cols-2 gap-4">
        <div class="bg-white p-4 rounded-2xl shadow space-y-3">
          <h2 class="text-lg font-semibold">ì œí’ˆ ê¸°ë³¸í˜• ë“±ë¡</h2>
          <input id="b_name" class="w-full border rounded-xl p-2" placeholder="ê¸°ë³¸í˜• ì´ë¦„ (ì˜ˆ: ì•„í¬ë¦´ ì•¼ê´‘ë´‰ V1)" />
          <input id="b_product" class="w-full border rounded-xl p-2" placeholder="ì œí’ˆëª… (ì˜ˆ: ì•„í¬ë¦´ ì•¼ê´‘ë´‰)" />
          <textarea id="b_features" class="w-full border rounded-xl p-2 h-24" placeholder="ì œí’ˆ íŠ¹ì§•/í˜•íƒœ/ì¬ì§ˆ/ê°€ê³µ ìš”ì•½"></textarea>
          <div class="grid gap-2">
            <label class="text-xs font-semibold">ê¸°ë³¸í˜• ì´ë¯¸ì§€ URL</label>
            <input id="b_img_base" class="w-full border rounded-xl p-2" placeholder="https://drive.google.com/..." />
            <label class="text-xs font-semibold">ì°¸ê³  ë ˆí¼ëŸ°ìŠ¤ 1</label>
            <input id="b_ref1" class="w-full border rounded-xl p-2" placeholder="https://drive.google.com/..." />
            <label class="text-xs font-semibold">ì°¸ê³  ë ˆí¼ëŸ°ìŠ¤ 2</label>
            <input id="b_ref2" class="w-full border rounded-xl p-2" placeholder="https://drive.google.com/..." />
            <label class="text-xs font-semibold">ì°¸ê³  ë ˆí¼ëŸ°ìŠ¤ 3</label>
            <input id="b_ref3" class="w-full border rounded-xl p-2" placeholder="https://drive.google.com/..." />
          </div>
          <div class="flex gap-2">
            <button id="btnBaseSave"Â  class="btn bg-indigo-600 text-white">ì €ì¥</button>
            <button id="btnBaseClear" class="btn bg-white border">ì´ˆê¸°í™”</button>
          </div>
        </div>
        <div class="bg-white p-4 rounded-2xl shadow">
          <h2 class="text-lg font-semibold mb-2">ë“±ë¡ëœ ê¸°ë³¸í˜•</h2>
          <ul id="baseList" class="divide-y"></ul>
          <div class="flex gap-2 mt-3 text-sm">
            <label class="px-3 py-2 rounded-xl bg-white border cursor-pointer">ê°€ì ¸ì˜¤ê¸° (JSON) í›„ ì €ì¥
              <input id="importFile" type="file" accept="application/json" class="hidden" />
            </label>
          </div>
        </div>
      </div>
    </section>
    <section id="genSection" class="hidden">
      <div class="grid md:grid-cols-3 gap-4 mb-4">
        <div class="bg-white p-4 rounded-2xl shadow">
          <label class="block text-xs font-semibold mb-2">ëª¨ë¸/í”Œë«í¼</label>
          <select id="platform" class="w-full border rounded-xl p-2">
            <option value="gemini">Gemini (Google AI Studio)</option>
            <option value="nano">Google AI Studio â€” Nano</option>
          </select>
        </div>
        <div class="bg-white p-4 rounded-2xl shadow">
          <label class="block text-xs font-semibold mb-2">í”„ë¡¬í”„íŠ¸ ì–¸ì–´</label>
          <select id="language" class="w-full border rounded-xl p-2">
            <option value="ko">í•œêµ­ì–´</option>
            <option value="en">English</option>
            <option value="vi">Tiáº¿ng Viá»‡t</option>
          </select>
        </div>
        <div class="bg-white p-4 rounded-2xl shadow">
          <label class="block text-xs font-semibold mb-2">ì œí’ˆ ê¸°ë³¸í˜• ì„ íƒ</label>
          <select id="baseSelect" class="w-full border rounded-xl p-2"></select>
        </div>
      </div>
      <div class="grid md:grid-cols-2 gap-4">
        <div class="space-y-4">
          <div class="bg-white p-4 rounded-2xl shadow">
            <label class="block text-xs font-semibold mb-2">ì œí’ˆëª…</label>
            <input id="product" class="w-full border rounded-xl p-2" placeholder="ê¸°ë³¸í˜•ì—ì„œ ë¶ˆëŸ¬ì˜¤ê¸°/ìˆ˜ì •" />
          </div>
          <div class="bg-white p-4 rounded-2xl shadow">
            <label class="block text-xs font-semibold mb-2">ë¡œê³ </label>
            <input id="logo" class="w-full border rounded-xl p-2" placeholder="ì˜ˆ: BVLGARI / STARBUCKS" />
          </div>
          <div class="bg-white p-4 rounded-2xl shadow">
            <label class="block text-xs font-semibold mb-2">í…ìŠ¤íŠ¸(ë¬¸êµ¬)</label>
            <input id="copy" class="w-full border rounded-xl p-2" placeholder="ì˜ˆ: FOREVER / NIGHT GREEN" />
          </div>
        </div>
        <div class="space-y-4">
          <div class="bg-white p-4 rounded-2xl shadow">
            <label class="block text-xs font-semibold mb-2">ê¸°ë³¸í˜•/ë ˆí¼ëŸ°ìŠ¤ ë¯¸ë¦¬ë³´ê¸°</label>
            <div id="preview" class="grid grid-cols-2 gap-2 text-xs"></div>
          </div>
          <div class="bg-white p-4 rounded-2xl shadow">
            <label class="block text-xs font-semibold mb-2">ì˜µì…˜</label>
            <label class="inline-flex items-center gap-2 text-xs">
              <input id="optStructured" type="checkbox" class="rounded" checked>
              Geminiì— ë§ì¶˜ êµ¬ì¡°í™” í”„ë¡¬í”„íŠ¸(ê¶Œì¥)
            </label>
          </div>
          <div class="bg-white p-4 rounded-2xl shadow">
            <label class="block text-xs font-semibold mb-2">ë¡œê³  ì´ë¯¸ì§€ (URL/ì—…ë¡œë“œ)</label>
            <input id="logoUrl" class="w-full border rounded-xl p-2 mb-2" placeholder="https://drive.google.com/... (ê³µìœ : ë§í¬ ìˆëŠ” ëª¨ë“  ì‚¬ìš©ì ë³´ê¸°)" />
            <input id="logoFile" type="file" accept="image/*" class="w-full border rounded-xl p-2" />
            <p class="text-[11px] text-gray-500 mt-2">URLì€ í”„ë¡¬í”„íŠ¸ì— í¬í•¨ë©ë‹ˆë‹¤. **íŒŒì¼ ì—…ë¡œë“œ ì‹œ Workerë¥¼ í†µí•´ GitHubì— ì €ì¥ë˜ê³  URLì´ ìë™ ì…ë ¥ë©ë‹ˆë‹¤.**</p>
            <div class="grid grid-cols-1 gap-2 mt-2">
              <img id="logoPreview" class="thumb border rounded-xl" alt="logo preview" />
            </div>
          </div>
        </div>
      </div>
      <section class="mt-6 grid md:grid-cols-3 gap-4">
        <button id="btnGenerate" class="btn bg-indigo-600 text-white">í”„ë¡¬í”„íŠ¸ ìƒì„±</button>
        <button id="btnCopy"Â  Â  Â class="btn bg-white border">ë³µì‚¬í•˜ê¸°</button>
        <button id="btnPresetInject" class="btn bg-gray-900 text-white">ê¸°ë³¸í˜• ê°’ ì£¼ì…</button>
      </section>
      <section class="mt-6">
        <div class="bg-white p-4 rounded-2xl shadow">
          <label class="block text-xs font-semibold mb-2">ìƒì„±ëœ í”„ë¡¬í”„íŠ¸</label>
          <textarea id="output" class="w-full border rounded-xl p-3 h-72 font-mono text-sm" readonly placeholder="ì—¬ê¸°ì— ê²°ê³¼ê°€ í‘œì‹œë©ë‹ˆë‹¤"></textarea>
        </div>
        <p class="text-xs text-gray-500 mt-2">* ê¸°ë³¸í˜•ì— ë“±ë¡í•œ ì´ë¯¸ì§€ URL(ê¸°ë³¸/ë ˆí¼ëŸ°ìŠ¤1~3)ê³¼ ë¡œê³  URL(ìˆì„ ì‹œ)ì„ ìë™ìœ¼ë¡œ í¬í•¨í•©ë‹ˆë‹¤.</p>
      </section>
    </section>
    <footer class="mt-10 text-center text-xs text-gray-500">Â© 2025 ì‹œì•ˆ ìƒì„± ë„êµ¬ â€” v1.3 (Worker Integrated)</footer>
  </main>
</body>
</html>
